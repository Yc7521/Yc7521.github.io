<style>
.f {
color: green;
}
.cut {
color: #8f8cff;
}
</style>
# 偶数舍入

类似“四舍六入五成双”

## 例： 保留2位小数

|二进制小数|舍/入|舍入后|
|-|-|-|
|1.00(00)|舍|1.00|
|1.00(01)|舍|1.00|
|1.00(10)|舍(正好一半 向偶数舍入)|1.00|
|1.00(11)|入|1.01|
|1.01(00)|舍|1.01|
|1.01(01)|舍|1.01|
|1.01(10)|入(正好一半 向偶数舍入)|1.10|
|1.01(11)|入|1.10|

再补上一题  
对于8位的浮点  
符号1位/指数4位/尾数3位  
|S|E|·|·|·|F|·|·|
|-|-|-|-|-|-|-|-|
|0|0|0|0|0|0|0|0|

1. 1.0/1024 == 1.0/2048
1. 1000.0 == 2000.0
1. 1.0/600 == 1.0/500
1. 1.0/300 == 1.0/200

**答案**  
`表绿色为尾数部分，紫色为需要截断的部分`

|数字|1|.|/2|/4|/8|/16|/32|/64|<span class="f">/128</span>|<span class="f">/256</span>|<span class="f">/512</span>|<span class="cut">/1024</span>|<span class="cut">/2048</span>|余数|
|-|-|-|-|-|-|-|-|-|-|-|-|-|-|-|
|1.0/600|0|.|0|0|0|0|0|0|0|0|0|1|1|248/600|
|1.0/500|0|.|0|0|0|0|0|0|0|0|1|0|0|48/500|
|1.0/300|0|.|0|0|0|0|0|0|0|0|1|1|0|248/300|
|1.0/200|0|.|0|0|0|0|0|0|0|1|0|1|0|48/200|

1. true  
尾数部分截断 均为000  
0 0000 000 == 0 0000 000
1. true  
超出表达范围 均为inf  
0 1111 000 == 0 1111 000
1. true  
尾数部分截断 均为001  
则  
1.0/600需要入(11大于10(一半) 入) 尾数为001  
1.0/500需要舍(00大于10(一半) 舍) 尾数为001  
0 0000 001 == 0 0000 001
1. false  
1.0/300需要入(还有余数大于一半 入) 尾数为010  
1.0/200需要入(还有余数大于一半 入) 尾数为011  
0 0000 010 != 0 0000 011

``` text
注：只有正好为一半的时候 才需要偶数舍入
```
